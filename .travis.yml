language: java
branches:
  only:
  - master
  - develop
before_install:
- chmod +x gradlew
install: true
cache:
  directories:
  - $HOME/.gradle/caches/
  - $HOME/.gradle/wrapper/
script:
- git clone -b master https://github.com/nablarch/nablarch-ci-script.git $HOME/build-script/
  && chmod +x $HOME/build-script/travis-ci/*.sh
- $HOME/build-script/travis-ci/install-oracle-jdk6.sh
- $HOME/build-script/travis-ci/nablarch-build.sh
- $HOME/build-script/travis-ci/upload-test-report.sh
before_cache:
- rm -f $HOME/.gradle/caches/modules-2/modules-2.lock
notifications:
  slack:
    secure: 3qO3LxO0rK1WYV/ixHcDxTkZ6aUpVWEkUpizilYT4lsO080gFfzfUL3iYto8u/dr29Cc5W1NvYQZtOy5nwiLo6jUWHv1ECPe6AIa5mZpKqgOBs91sb6LgsUT6K+5LI4xuz/IMvPcche+XJKFl04F/3A/vAwp8Oh4O3ObAbwpCGX1n09SPet+2zU4P2RTx1NTqITi6fXrbxzuaboWoh7wyOgXANeRazopKjJPSlXAk6fwHnTfAAn/h2YwbHyLhrHrhZJNOpPSBwQwfUnLfTJdSA4Kt6wEGQK3bmFLHt0hyRdwJ+XurHUwAxoiytx0ekZyvTG0CEG8GPFbNa0oQzCzNttSVlqIBBh+1V5Wp6q1TEwSfHqXW8nC/blxB38URaUFDC+vKNm3WruyiYUURq7XMr1fJKZbba4CrqagbvyEs+pRgHe7QFkHTyNxBlvNiz3nIhT4iGUncUxREM14GBOdJYBbumN+d5lcGWEBcWObTRtUuaC64XYAYbW8LhXcNP9imiAX8+CJMgaov+jGd5iJo53BtH0BDhkk6Aqh6UPucqIbSX1Drv4G332pD6DMh4Lt7TpOwe7tgLRbkRWYdgAGhRQ0fW4SFXWmZvzn4MtixVxRMjNqibocuni6hbFFEhQa0ji4ZMDvY/7WDpIw2VYpwZ7sVjtE3Mc4r4SbBZxweFA=
